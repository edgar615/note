sar是System Activity Reporter（系统活动情况报告）的缩写。sar工具将对系统当前的状态进行取样，然后通过计算数据和比例来表达系统的当前运行状态。它的特点是可以连续对系统取样，获得大量的取样数据；取样数据和分析的结果都可以存入文件，所需的负载很小。sar是目前Linux上最为全面的系统性能分析工具之一，可以从14个大方面对系统的活动进行报告，包括文件的读写情况、系统调用的使用情况、串口、CPU效率、内存使用状况、进程活动及IPC有关的活动等，使用也是较为复杂。

先要安装sysstat工具

	sudo apt-get install sysstat

修改配置文件 /etc/default/sysstat，将ENABLED修改为true

	ENABLED="true"
	
重启sysstat服务

	service sysstat restart


sar是查看操作系统报告指标的各种工具中，最为普遍和方便的；它有两种用法；

    追溯过去的统计数据（默认）
    周期性的查看当前数据

# 追溯过去的统计数据
默认情况下，sar从最近的0点0分开始显示数据；如果想继续查看一天前的报告；可以查看保存在/var/log/sysstat/下的sa日志； 使用sar工具查看:

sar -f /var/log/sysstat/sa28

# 参数

	用法: sar [ 选项 ] [ <时间间隔> [ <次数> ] ]
	主选项和报告：
		-B	分页状况
		-b	I/O 和传输速率信息状况
		-d	块设备状况
		-F [ MOUNT ]
			文件系统统计信息
		-H	交换空间利用率
		-I { <中断> | SUM | ALL | XALL }
			中断信息状况
		-m { <关键字> [,...] | ALL }
			电源管理统计信息
			关键字:
			CPU	CPU 频率
			FAN	风扇速度
	\t\tFREQ\tCPU 平均时钟频率
			IN	输入电压
			TEMP	设备温度
	\t\tUSB\t连接的USB 设备
		-n { <关键字> [,...] | ALL }
			网络统计信息
			关键字:
			DEV	网卡
			EDEV	网卡(错误)
			NFS	NFS 客户端
			NFSD	NFS 服务端
			SOCK	Sockets	(v4)
			IP	IP 流	(v4)
			EIP	IP 流	(v4) (错误)
			ICMP	ICMP 流	(v4)
			EICMP	ICMP 流	(v4) (错误)
			TCP	TCP 流	(v4)
			ETCP	TCP 流	(v4) (错误)
			UDP	UDP 流	(v4)
			SOCK6	Sockets	(v6)
			IP6	IP 流	(v6)
			EIP6	IP 流	(v6) (错误)
			ICMP6	ICMP 流	(v6)
			EICMP6	ICMP 流	(v6) (错误)
			UDP6	UDP 流	(v6)
			FC	Fibre channel HBAs
		-q	队列长度和平均负载
		-R	内存状况
		-r [ ALL ]
			内存利用率信息
		-S	交换空间利用率信息
		-u [ ALL ]
			CPU 利用率信息
		-v	内核表统计信息
		-W	交换信息
		-w	任务创建与系统转换信息
		-y	TTY 设备信息

# 查看平均负载
sar -q: 查看平均负载

指定-q后，就能查看运行队列中的进程数、系统上的进程大小、平均负载等；与其它命令相比，它能查看各项指标随时间变化的情况； 

	[root@ihorn-dev ~]# sar -q 1 60
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev)     10/08/2016  _x86_64_    (4 CPU)

	03:37:27 PM   runq-sz  plist-sz   ldavg-1   ldavg-5  ldavg-15   blocked
	03:37:28 PM         0      1105      0.71      0.92      1.71         0
	03:37:29 PM         0      1105      0.71      0.92      1.71         0
	03:37:30 PM         0      1104      0.71      0.92      1.71         0

显示的内容包括

	runq-sz：运行队列的长度（等待运行的进程数）
	plist-sz：进程列表中进程（processes）和线程（threads）的数量
	ldavg-1：最后1分钟的系统平均负载 ldavg-5：过去5分钟的系统平均负载
	ldavg-15：过去15分钟的系统平均负载
	
load average大意表示当前CPU中有多少任务在排队等待，等待越多说明负载越高，跑数据库的服务器上，一般load值超过5的话，已经算是比较高的了。

引起load高的原因也可能有多种：

	某些进程/服务消耗更多CPU资源（服务响应更多请求或存在某些应用瓶颈）；
	发生比较严重的swap（可用物理内存不足）；
	发生比较严重的中断（因为SSD或网络的原因发生中断）；
	磁盘I/O比较慢（会导致CPU一直等待磁盘I/O请求）；


# 查看内存使用状况

sar -r： 指定-r之后，可查看物理内存使用状况；

	[root@ihorn-dev ~]# sar -r 1 10 
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 10/08/2016 x86_64 (4 CPU)
	03:38:52 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty
	03:38:53 PM   4712024  11557444     71.04    366220   3931208   9658120     59.36   9274640   1560712       436
	03:38:54 PM   4712024  11557444     71.04    366220   3931224   9658120     59.36   9274640   1560712       452
	03:38:55 PM   4712032  11557436     71.04    366220   3931228   9658120     59.36   9274676   1560720       464
	03:38:56 PM   4712032  11557436     71.04    366220   3931244   9658120     59.36   9274684   1560716       496
	03:38:57 PM   4712032  11557436     71.04    366220   3931244   9658120     59.36   9274692   1560716       50

显示的内容包括

	kbmemfree：这个值和free命令中的free值基本一致,所以它不包括buffer和cache的空间.
	kbmemused：这个值和free命令中的used值基本一致,所以它包括buffer和cache的空间.
	%memused：物理内存使用率，这个值是kbmemused和内存总量(不包括swap)的一个百分比.
	kbbuffers和kbcached：这两个值就是free命令中的buffer和cache.
	kbcommit：保证当前系统所需要的内存,即为了确保不溢出而需要的内存(RAM+swap).
	%commit：这个值是kbcommit与内存总量(包括swap)的一个百分比.

# 查看页面交换发生状况
sar -W：查看页面交换发生状况

页面发生交换时，服务器的吞吐量会大幅下降；服务器状况不良时，如果怀疑因为内存不足而导致了页面交换的发生，可以使用这个命令来确认是否发生了大量的交换；

	[root@ihorn-dev ~]# sar -W 1 10
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev)     10/08/2016  _x86_64_    (4 CPU)

	03:40:37 PM  pswpin/s pswpout/s
	03:40:38 PM      0.00      0.00
	03:40:39 PM      0.00      0.00
	03:40:40 PM      0.00      0.00
	03:40:41 PM      0.00      0.00
	03:40:42 PM      0.00      0.00
	03:40:43 PM      0.00      0.00

显示的内容包括

	pswpin/s：每秒系统换入的交换页面（swap page）数量
	pswpout/s：每秒系统换出的交换页面（swap page）数量

# inode、文件和其他内核表监控
sar -v 10 3

	[root@ihorn-dev ~]# sar -v 10 3
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:10:23 AM dentunusd   file-nr  inode-nr    pty-nr
	10:10:33 AM     70763      4832     68826         7
	10:10:43 AM     70770      4864     68855         7
	10:10:53 AM     70770      4864     68830         7
	Average:        70768      4853     68837         7

显示的内容包括

	dentunusd：目录高速缓存中未被使用的条目数量
	file-nr：文件句柄（file handle）的使用数量
	inode-nr：索引节点句柄（inode handle）的使用数量
	pty-nr：使用的pty数量

# 内存分页监控
sar -B 10 3

	[root@ihorn-dev ~]# sar -B 10 3
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:11:16 AM  pgpgin/s pgpgout/s   fault/s  majflt/s  pgfree/s pgscank/s pgscand/s pgsteal/s    %vmeff
	10:11:26 AM      0.80    388.00   1592.90      0.00   1454.10      0.00      0.00      0.00      0.00
	10:11:36 AM      0.00    261.30   1947.00      0.00   1692.90      0.00      0.00      0.00      0.00
	10:11:46 AM      0.00    157.60   1488.40      0.00   1500.90      0.00      0.00      0.00      0.00
	Average:         0.27    268.97   1676.10      0.00   1549.30      0.00      0.00      0.00      0.00

显示的内容包括

	pgpgin/s：表示每秒从磁盘或SWAP置换到内存的字节数(KB)
	pgpgout/s：表示每秒从内存置换到磁盘或SWAP的字节数(KB)
	fault/s：每秒钟系统产生的缺页数,即主缺页与次缺页之和(major + minor)
	majflt/s：每秒钟产生的主缺页数.
	pgfree/s：每秒被放入空闲队列中的页个数
	pgscank/s：每秒被kswapd扫描的页个数
	pgscand/s：每秒直接被扫描的页个数
	pgsteal/s：每秒钟从cache中被清除来满足内存需要的页个数
	%vmeff：每秒清除的页(pgsteal)占总扫描页(pgscank+pgscand)的百分比


**majflts/s**主要显示从硬盘交换区载入物理内存时的异常，如果这个值变高，那么我们可以说系统目前仅仅使用了内存(RAM)

**%vmeff **表示每秒扫描的页面数，如果说当它的值是100%时是正常情况，它是30%以下的时候就可以认为虚拟内存存在一些问题。0值表示在那个时候没有任何一个页面被扫描。

# I/O和传送速率监控
sar -b 10 3

	[root@ihorn-dev ~]# sar -b 10 3
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:19:13 AM       tps      rtps      wtps   bread/s   bwrtn/s
	10:19:23 AM     14.00      0.00     14.00      0.00    290.40
	10:19:33 AM     31.70      0.10     31.60      0.80    803.20
	10:19:43 AM     14.60      0.00     14.60      0.00    429.60
	Average:        20.10      0.03     20.07      0.27    507.73

显示的内容包括

	tps：每秒钟物理设备的 I/O 传输总量
	rtps：每秒钟从物理设备读入的数据总量
	wtps：每秒钟向物理设备写入的数据总量
	bread/s：每秒钟从物理设备读入的数据量，单位为 块/s
	bwrtn/s：每秒钟向物理设备写入的数据量，单位为 块/s

# 设备使用情况监控
sar -d 10 3 

	[root@ihorn-dev ~]# sar -d 10 3
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:25:56 AM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
	10:26:06 AM  dev253-0      0.40      0.00     24.80     62.00      0.00      1.25      1.25      0.05
	10:26:06 AM dev253-16     10.80      0.00    407.20     37.70      0.01      1.06      0.82      0.89
	10:26:06 AM  dev252-0     22.50      0.00    407.20     18.10      0.03      1.32      0.39      0.88
	10:26:06 AM  dev252-1      0.40      0.00      1.80      4.50      0.00      1.00      1.00      0.04
	10:26:06 AM  dev252-2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:06 AM  dev252-3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:06 AM  dev252-4      0.30      0.00      1.80      6.00      0.00      1.33      1.33      0.04
	10:26:06 AM  dev252-5      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	
	10:26:06 AM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
	10:26:16 AM  dev253-0     65.80      0.00   1023.20     15.55      0.06      0.93      0.62      4.09
	10:26:16 AM dev253-16     13.60      0.80    316.00     23.29      0.03      2.32      0.58      0.79
	10:26:16 AM  dev252-0     26.30      0.80    316.00     12.05      0.06      2.33      0.30      0.79
	10:26:16 AM  dev252-1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:16 AM  dev252-2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:16 AM  dev252-3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:16 AM  dev252-4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:16 AM  dev252-5      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	
	10:26:16 AM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
	10:26:26 AM  dev253-0      9.40      0.00    120.80     12.85      0.01      1.04      0.56      0.53
	10:26:26 AM dev253-16      8.30      0.00    260.80     31.42      0.01      1.34      0.75      0.62
	10:26:26 AM  dev252-0     18.20      0.00    260.80     14.33      0.03      1.41      0.35      0.63
	10:26:26 AM  dev252-1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:26 AM  dev252-2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:26 AM  dev252-3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:26 AM  dev252-4      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:26:26 AM  dev252-5      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	
	Average:          DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
	Average:     dev253-0     25.20      0.00    389.60     15.46      0.02      0.94      0.62      1.56
	Average:    dev253-16     10.90      0.27    328.00     30.12      0.02      1.65      0.70      0.77
	Average:     dev252-0     22.33      0.27    328.00     14.70      0.04      1.74      0.34      0.77
	Average:     dev252-1      0.13      0.00      0.60      4.50      0.00      1.00      1.00      0.01
	Average:     dev252-2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:     dev252-3      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:     dev252-4      0.10      0.00      0.60      6.00      0.00      1.33      1.33      0.01
	Average:     dev252-5      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

显示的内容包括

	tps:每秒从物理磁盘I/O的次数.多个逻辑请求会被合并为一个I/O磁盘请求,一次传输的大小是不确定的.
	rd_sec/s:每秒读扇区的次数.
	wr_sec/s:每秒写扇区的次数.
	avgrq-sz:平均每次设备I/O操作的数据大小(扇区).
	avgqu-sz:磁盘请求队列的平均长度.
	await:从请求磁盘操作到系统完成处理,每次请求的平均消耗时间,包括请求队列等待时间,单位是毫秒(1秒=1000毫秒).
	svctm:系统处理每次请求的平均时间,不包括在请求队列中消耗的时间.
	%util:I/O请求占CPU的百分比,比率越大,说明越饱和.

avgqu-sz 的值较低时，设备的利用率较高
当%util的值接近 1% 时，表示设备带宽已经占满。

#要判断系统瓶颈问题，有时需几个 sar 命令选项结合起来
怀疑CPU存在瓶颈，可用 sar -u 和 sar -q 等来查看
怀疑内存存在瓶颈，可用 sar -B、sar -r 和 sar -W 等来查看
怀疑I/O存在瓶颈，可用 sar -b、sar -u 和 sar -d 等来查看

# 将结果保存到文件
sar -q 5 10 -o test

如果不带文件名 -o会默认将结果保存到/var/log/sysstat/sa22文件中，其中22是表示当天的日期（我是在22号操作的）

# 读取文件中的结果
sar -f test

# 查看CPU使用率
sar -u : 默认情况下显示的cpu使用率等信息就是sar -u；

	[root@ihorn-dev ~]# sar -u
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev)     10/08/2016  _x86_64_    (4 CPU)

	12:00:01 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
	12:10:01 AM     all     44.50      0.00     29.75      0.05      0.00     25.70

显示的内容包括

	%user 用户模式下消耗的CPU时间的比例；
	%nice 通过nice改变了进程调度优先级的进程，在用户模式下消耗的CPU时间的比例
	%system 系统模式下消耗的CPU时间的比例；
	%iowait CPU等待磁盘I/O导致空闲状态消耗的时间比例；
	%steal 利用Xen等操作系统虚拟化技术，等待其它虚拟CPU计算占用的时间比例；
	%idle CPU空闲时间比例；
	
在所有的显示中，我们应主要注意**%iowait**和**%idle**，%iowait的值过高，表示硬盘存在I/O瓶颈，%idle值高，表示CPU较空闲，如果%idle值高但系统响应慢时，有可能是CPU等待分配内存，此时应加大内存容量。%idle值如果持续低于10，那么系统的CPU处理能力相对较低，表明系统中最需要解决的资源是CPU。

# 查看某个CPU核的信息
sar -P ALL

	[root@ihorn-dev ~]# sar -P ALL 10 3
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:30:54 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
	10:31:04 AM     all      3.00      0.00      1.19      0.13      0.00     95.69
	10:31:04 AM       0      3.43      0.00      1.41      0.30      0.00     94.85
	10:31:04 AM       1      3.23      0.00      0.91      0.10      0.00     95.76
	10:31:04 AM       2      2.93      0.00      1.01      0.10      0.00     95.96
	10:31:04 AM       3      2.32      0.00      1.41      0.00      0.00     96.26
	
	10:31:04 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
	10:31:14 AM     all      4.44      0.00      1.56      0.88      0.00     93.11
	10:31:14 AM       0      4.85      0.00      1.62      1.82      0.00     91.71
	10:31:14 AM       1      4.43      0.00      1.81      0.60      0.00     93.15
	10:31:14 AM       2      4.35      0.00      1.42      0.81      0.00     93.42
	10:31:14 AM       3      4.24      0.00      1.21      0.20      0.00     94.35
	
	10:31:14 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
	10:31:24 AM     all      5.68      0.00      1.62      0.20      0.00     92.50
	10:31:24 AM       0      6.17      0.00      1.72      0.30      0.00     91.81
	10:31:24 AM       1      4.54      0.00      1.61      0.30      0.00     93.54
	10:31:24 AM       2      5.14      0.00      1.81      0.10      0.00     92.94
	10:31:24 AM       3      6.88      0.00      1.52      0.20      0.00     91.41
	
	Average:        CPU     %user     %nice   %system   %iowait    %steal     %idle
	Average:        all      4.38      0.00      1.46      0.40      0.00     93.76
	Average:          0      4.82      0.00      1.58      0.81      0.00     92.79
	Average:          1      4.07      0.00      1.45      0.34      0.00     94.15
	Average:          2      4.14      0.00      1.41      0.34      0.00     94.11
	Average:          3      4.48      0.00      1.38      0.13      0.00     94.01

查看第2个核的信息

	[root@ihorn-dev ~]# sar -P 1 10 3
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:32:05 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
	10:32:15 AM       1      3.24      0.00      1.11      0.81      0.00     94.84
	10:32:25 AM       1      2.83      0.00      1.11      0.20      0.00     95.86
	10:32:35 AM       1      4.65      0.00      1.52      0.40      0.00     93.43
	Average:          1      3.57      0.00      1.25      0.47      0.00     94.71

# 网络
sar命令使用-n选项可以汇报网络相关信息，可用的参数包括：DEV、EDEV、SOCK和FULL。

	[root@ihorn-dev ~]# sar -n DEV  1 2
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:35:46 AM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
	10:35:47 AM vethfd5c890      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:35:47 AM      eth0      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:35:47 AM      eth1     16.00     14.00      4.49      1.45      0.00      0.00      0.00
	10:35:47 AM        lo    325.00    325.00     50.78     50.78      0.00      0.00      0.00
	10:35:47 AM veth1304fdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:35:47 AM vetha367e4c      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:35:47 AM veth0468fc2     10.00     11.00     12.85      1.15      0.00      0.00      0.00
	10:35:47 AM   docker0     10.00     11.00     12.71      1.15      0.00      0.00      0.00
	
	10:35:47 AM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
	10:35:48 AM vethfd5c890      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:35:48 AM      eth0      4.00      3.00      0.56      0.19      0.00      0.00      0.00
	10:35:48 AM      eth1     23.00     31.00      7.95      5.41      0.00      0.00      0.00
	10:35:48 AM        lo   1017.00   1017.00    281.90    281.90      0.00      0.00      0.00
	10:35:48 AM veth1304fdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:35:48 AM vetha367e4c      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:35:48 AM veth0468fc2     59.00     63.00     50.10     12.74      0.00      0.00      0.00
	10:35:48 AM   docker0     59.00     63.00     49.29     12.74      0.00      0.00      0.00
	
	Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
	Average:    vethfd5c890      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:         eth0      2.00      1.50      0.28      0.09      0.00      0.00      0.00
	Average:         eth1     19.50     22.50      6.22      3.43      0.00      0.00      0.00
	Average:           lo    671.00    671.00    166.34    166.34      0.00      0.00      0.00
	Average:    veth1304fdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:    vetha367e4c      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:    veth0468fc2     34.50     37.00     31.48      6.94      0.00      0.00      0.00
	Average:      docker0     34.50     37.00     31.00      6.94      0.00      0.00      0.00

如果你使用DEV关键字，那么sar将汇报和网络设备相关的信息，如lo，eth0或eth1等，显示的内容包括

	IFACE：就是网络设备的名称；
	rxpck/s：每秒钟接收到的包数目
	txpck/s：每秒钟发送出去的包数目
	rxbyt/s：每秒钟接收到的字节数
	txbyt/s：每秒钟发送出去的字节数
	rxcmp/s：每秒钟接收到的压缩包数目
	txcmp/s：每秒钟发送出去的压缩包数目
	txmcst/s：每秒钟接收到的多播包的包数目

如果你使用EDEV关键字，那么会针对网络设备汇报其失败情况

	[root@ihorn-dev ~]# sar -n EDEV  1 2
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:37:12 AM     IFACE   rxerr/s   txerr/s    coll/s  rxdrop/s  txdrop/s  txcarr/s  rxfram/s  rxfifo/s  txfifo/s
	10:37:13 AM vethfd5c890      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:13 AM      eth0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:13 AM      eth1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:13 AM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:13 AM veth1304fdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:13 AM vetha367e4c      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:13 AM veth0468fc2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:13 AM   docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	
	10:37:13 AM     IFACE   rxerr/s   txerr/s    coll/s  rxdrop/s  txdrop/s  txcarr/s  rxfram/s  rxfifo/s  txfifo/s
	10:37:14 AM vethfd5c890      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:14 AM      eth0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:14 AM      eth1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:14 AM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:14 AM veth1304fdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:14 AM vetha367e4c      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:14 AM veth0468fc2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	10:37:14 AM   docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	
	Average:        IFACE   rxerr/s   txerr/s    coll/s  rxdrop/s  txdrop/s  txcarr/s  rxfram/s  rxfifo/s  txfifo/s
	Average:    vethfd5c890      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:         eth0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:         eth1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:    veth1304fdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:    vetha367e4c      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:    veth0468fc2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
	Average:      docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

显示的内容包括

	rxerr/s：每秒钟接收到的损坏的包的数目
	txerr/s：当发送包时，每秒钟发生的错误数
	coll/s：当发送包时，每秒钟发生的冲撞(collisions)数（这个是在半双工模式下才有）
	rxdrop/s：由于缓冲区满，网络设备接收端，每秒钟丢掉的网络包的数目
	txdrop/s：由于缓冲区满，网络设备发送端，每秒钟丢掉的网络包的数目
	txcarr/s：当发送数据包时，每秒钟载波错误发生的次数
	rxfram/s：在接收数据包时，每秒钟发生的帧对齐错误的次数
	rxfifo/s：在接收数据包时，每秒钟缓冲区溢出错误发生的次数
	txfifo/s：在发送数据包时，每秒钟缓冲区溢出错误发生的次数

如果你使用SOCK关键字，则会针对socket连接进行汇报

	[root@ihorn-dev ~]# sar -n SOCK  1 2
	Linux 3.10.0-123.9.3.el7.x86_64 (ihorn-dev) 	12/23/2016 	_x86_64_	(4 CPU)
	
	10:37:45 AM    totsck    tcpsck    udpsck    rawsck   ip-frag    tcp-tw
	10:37:46 AM      1455      1063        12         0         0        64
	10:37:47 AM      1457      1065        12         0         0        64
	Average:         1456      1064        12         0         0        64

显示的内容包括

	totsck：被使用的socket的总数目
	tcpsck：当前正在被使用于TCP的socket数目
	udpsck：当前正在被使用于UDP的socket数目
	rawsck：当前正在被使用于RAW的socket数目
	ip-frag：当前的IP分片的数目
	
# sar参数说明

	-A 汇总所有的报告
	-a 报告文件读写使用情况
	-B 报告附加的缓存的使用情况
	-b 报告缓存的使用情况
	-c 报告系统调用的使用情况
	-d 报告磁盘的使用情况
	-g 报告串口的使用情况
	-h 报告关于buffer使用的统计数据
	-m 报告IPC消息队列和信号量的使用情况
	-n 报告命名cache的使用情况
	-p 报告调页活动的使用情况
	-q 报告运行队列和交换队列的平均长度
	-R 报告进程的活动情况
	-r 报告没有使用的内存页面和硬盘块
	-u 报告CPU的利用率
	-v 报告进程、i节点、文件和锁表状态
	-w 报告系统交换活动状况
	-y 报告TTY设备活动状况
