# 查看资源是否耗尽

查看进程数、网络连接数
## pstree

## netstat

## 查看句柄详情和线程数

	ll /proc/<PID>/fd
	total 0
	dr-x------ 2 csst csst  0 Aug 30 10:44 ./
	dr-xr-xr-x 9 csst csst  0 Aug 30 10:15 ../
	lr-x------ 1 csst csst 64 Aug 30 10:45 0 -> /dev/null
	l-wx------ 1 csst csst 64 Aug 30 10:45 1 -> /home/csst/apache-tomcat-8.0.14/logs/catalina.out
	l-wx------ 1 csst csst 64 Aug 30 10:45 10 -> /home/csst/apache-tomcat-8.0.14/logs/localhost.2017-08-30.log
	l-wx------ 1 csst csst 64 Aug 30 10:45 11 -> /home/csst/apache-tomcat-8.0.14/logs/manager.2017-08-30.log
	l-wx------ 1 csst csst 64 Aug 30 10:45 12 -> /home/csst/apache-tomcat-8.0.14/logs/host-manager.2017-08-30.log
	lr-x------ 1 csst csst 64 Aug 30 10:45 13 -> /home/csst/apache-tomcat-8.0.14/lib/websocket-api.jar
	lr-x------ 1 csst csst 64 Aug 30 10:45 14 -> /home/csst/apache-tomcat-8.0.14/lib/el-api.jar
	lr-x------ 1 csst csst 64 Aug 30 10:45 15 -> /home/csst/apache-tomcat-8.0.14/lib/tomcat-websocket.jar
	lr-x------ 1 csst csst 64 Aug 30 10:45 16 -> /home/csst/apache-tomcat-8.0.14/lib/tomcat-util.jar
	lr-x------ 1 csst csst 64 Aug 30 10:45 17 -> /home/csst/apache-tomcat-8.0.14/lib/servlet-api.jar
	lr-x------ 1 csst csst 64 Aug 30 10:45 18 -> /home/csst/apache-tomcat-8.0.14/lib/tomcat-dbcp.jar

0->是标志输入 1->是标准输出 2-> 是标准错误输出

查看线程数

	$ ll /proc/4420/task
	total 0
	dr-xr-xr-x 45 csst csst 0 Aug 30 10:44 ./
	dr-xr-xr-x  9 csst csst 0 Aug 30 10:15 ../
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4420/
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4421/
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4422/
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4423/
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4424/
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4425/
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4426/
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4427/
	dr-xr-xr-x  7 csst csst 0 Aug 30 10:44 4428/

打开的句柄数和线程数

	$ ll /proc/4420/fd | wc -l
	85
	$ ll /proc/4420/task | wc -l
	46