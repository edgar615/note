http://www.sohu.com/a/150489316_748431



什么是错误码

在开始对错误码的处理进行讨论前，让我们来重新认识一下错误码，它到底是什么？私以为错误码可以定义为**一组数字(或字母与数字的结合)，它会与错误讯息建立关联，用于识别在系统中出现的各种异常情况**。

那么错误码能为我们带来什么？

- 首先，通过错误码我们能识别出系统到底出了什么问题？
- 其次，通过错误码我们应当能识别出哪个系统出了问题？
- 最后，通过错误码我们可以决策出该给客户显示出了什么问题？

为了达到上述的目的，我们需要对错误码的命名及使用做一定的约束。在沪江的 API 规范中，为每一条产线都分配了对应的错误码区间，这是一个非常有深意的决策。实际上，不仅仅不同的产线需要划分各自的错误码区间，每条产线内部的系统，也应当划分各自的区间，这样可以有效地避免出现重复错误码。

比如，我所在的产线被分配到的错误码区间为-0x1400000到-0x14FFFFF，转化为十进制即为-20,971,520~-22,020,095的8位数字，因此我就按照被分配到的错误码区间进行了一些规划，左4位2098~2201作为本产线可用的系统码，剩余的右4位再按照一定的规范进行分配，如0000~3999代表业务异常，9000~9999代表系统级异常，剩余的区间用于后续扩展使用。



我的错误码定义

999 系统为定义的异常，需要工程师处理

1000~9999 通用异常，预留

业务异常划分

20000~29999 用户业务
20000~20099 验证码