# SPU SKU

类目：类目是一个树状结构的系统，大体上可以分成4-5级。如手机->智能手机->苹果手机类目，在这里面，手机是一级类目，苹果手机是三级类目，也是叶子类目。

SPU：苹果6（商品聚合信息的最小单位），如手机->苹果手机->苹果6，苹果6就是SPU。

SKU：土豪金 16G 苹果6 （商品的不可再分的最小单元）。

从广义上讲，类目>SPU>SKU。



http://www.ikent.me/blog/3017



首先，搞清楚商品与单品的区别。例如，iphone是一个单品，但是在淘宝上当很多商家同时出售这个产品的时候，iphone就是一个商品了。

商品：淘宝叫item，京东叫product，商品特指与商家有关的商品，每个商品有一个商家编码，每个商品下面有多个颜色，款式，可以有多个SKU。

> SPU = Standard Product Unit （标准化产品单元）

SPU是商品信息聚合的最小单位，是一组可复用、易检索的标准化信息的集合，该集合描述了一个产品的特性。通俗点讲，属性值、特性相同的商品就可以称为一个SPU。

例如，iphone4就是一个SPU，N97也是一个SPU，这个与商家无关，与颜色、款式、套餐也无关。以化妆品为例，下图是[拍拍商城给出的](http://bbs1.paipai.com/g40005c3i1137s0p0.html)SPU信息：

![化妆品SPU信息](http://www.ikent.me/blog/wp-content/uploads/2010/10/化妆品SPU信息.jpg)

在商品信息电子化过程中，商品的特性可以由多个“属性及对应的属性值对”进行描述。“属性及对应的属性值对”完全相同的商品，可以抽象成为一个SPU。同 时，这些“属性及对应的属性值对”也在SPU中固化下来，逐步标准化。基于SPU的商品信息结构，可以实现丰富的应用，比如商品信息与资讯、评论、以及其 它SPU的整合。

P.s：从这个意义上讲，我认为[比较购物](http://www.ikent.me/blog/tag/%E6%AF%94%E8%BE%83%E8%B4%AD%E7%89%A9)的产品库以SPU为标准来建立是最合适的。

> SKU=stock keeping unit(库存量单位)

SKU即库存进出计量的单位， 可以是以件、盒、托盘等为单位。在服装、鞋类商品中使用最多最普遍。 例如纺织品中一个SKU通常表示：规格、颜色、款式。

[也有人解释说](http://blog.sina.com.cn/s/blog_5795fbd00100dgp6.html)SKU就是库存的最小单位，在服装行业，正常情况是“单款单色单码”，国内品牌有把“单款单色”当做一个SKU、也有把“单款”的几个色当一个SKU、也有把一块面料的几个个款式当一个SKU,这些都是误读。

同时，引申出另外一个概念：SKC：单款、单色。如果一定要打比方的话：SKC是一个桔子，SKU是一瓣桔子，但不管怎么说，一个桔子是桔子，一瓣桔子也是桔子。

不过，SKU是物理上不可分割的最小存货单元。在使用时要根据不同业态，不同管 理模式来处理。比如一香烟是50条，一条里有十盒，一盒中有20支，这些单位就要根据不同的需要来设定SKU。比如仓储批发式大卖场，一定是按照一箱来设 定的。普通大卖场一定是按照条来设定的。烟酒专卖店一定是按照盒来设定的。过去上海等地的街边小店一定是按一支来设定的。这样一支就是烟的最小零售单位。 但要根据自己的业态和服务模式来设定。

P.s:关于什么是SKU、SKC，可以参考阿福先生的[这篇博客](http://blog.sina.com.cn/s/blog_5795fbd00100dgp6.html)。

【总结一下】：SPU是标准化产品单元，区分品种；SKU是库存量单位，区分单品；商品特指与商家有关的商品，可对应多个SKU。

> ARPU=Average Revenue Per User(每用户平均收入)

ARPU注重的是一个时间段内运营商从每个用户所得到的利润。因此，高端的用户越多，ARPU越高。在这个时间段里，从运营商的运营情况来看，ARPU值高说明利润高，这段时间效益好。



# 库存

http://www.chanpin100.com/article/105420

​	最近在负责电商后台的商品模块改造以及新增仓储物流功能，将工作内容梳理总结了一下，第一篇文章梳理改造的商品管理模块，第二篇将整理从0到1规划的物流仓储模块。

## 	背景介绍 

​	该电商为自营B2C模式，基本订单业务流程是：

​	由前端APP销售产生订单，订单传到中台订单模块，由订单中心处理生成配送单，通过线下调度方式，派发给物流公司。系统上仅从商品创建上架开始管理，并没有对商品采购等流程进行管理，因此系统中的商品库存数据一直不准确，所以我们希望仓储物流模块可以从源头管控商品采购流程，解决系统中商品库存数据不准确的问题，其次解决商品配送问题，最终形成产品闭环。未来业务规划需要拓展到分站分仓的销售模式，那么在商品的数量上将会大大增加，而且同一商品在不同地域或仓库维度上可能分别有不同的销售价格。

​	系统为了满足未来业务模式的拓展，我们决定先从商品模块开始改造。

## 	系统现状问题分析 

​	1.在创建商品时仅有一个库存字段，设计之初是希望代表物理库存，在商品生成订单时，直接减扣该库存，（实际上为了销售业绩，经过了人工多次修改后已经是虚拟库存）这显然是不能掌控实际仓库库存的。

​	2.商品管理维度为SKU，前台显示也按照SKU维度，包括前台的搜索功能，系统中不存在SPU的概念，如果商品数量增多，那么前台的类目展示、搜索、后台管理都会很难维持。

​	3.商品属性固定，仅有规格、颜色、计量单位，直接挂在商品SKU上，不支持扩展商品属性分类，每种商品的属性都是一样的，商品属性表与商品不存在对应关系。

​	4.目前每种商品只存放在一个仓库中，并且每个SKU仅有一个价格，不能支持未来多仓库多销售站点多价格的业务模式。

## 	系统改造范围 

​	系统级的设计从大到细一般分为四个层次：

​	1.该系统与外部其他系统的关系（如何协作、功能边界）

​	2.系统内底层数据库结构设计

​	3.系统内应用功能逻辑

​	4.系统内各界面层建设

​	一般从我们平时做产品设计的时候，可能会比较多在功能和界面上，而如果培养自己习惯从底层数据结构开始去思考这个功能和界面的设计，往往设计出来的功能可执行性会更高，与程序猿撕逼的机会会更低。

​	![img](http://upload-images.jianshu.io/upload_images/6335042-17b340c1e0962fbf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240) 

#### 	改造过程 

#### 	（一）商品类目属性改造 

​	1、数据结构变化

​	数据结构上增加SPU，直接将商品属性挂在SPU上，商品属性在SPU维度进行维护，SKU直接在SPU下新建，关联所属SPU的商品属性。后端商品销售类目直接作为前端销售类目，下一步再由后端类目映射到前端销售属性（不在本次进行）。![img](http://upload-images.jianshu.io/upload_images/6335042-b429a7a19499b2a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240) 

​	附部分表结构设计![img](http://upload-images.jianshu.io/upload_images/6335042-95bc5f03de755103.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)2、相关需要改造的功能流程

​	新建商品流程

​	商品上下架流程

​	商品权限管理

​	此部分流程图不展开说明了。

​	3、界面上的改造，优化用户体验

​	前端商品列表由SKU变为SPU，商品详情页内区分出SKU，因为我们的商品属性目前很少，为了减少用户操作，所以在前端展示上SKU的销售属性值展示在一个类别下。

​	![img](http://i.chanpin100.com/150881629713995267) 

## 

​	后端电商界面大同小异，便不展开说明。

​	4、老商品数据的处理

​	我们商品数量还不多共1300多个SKU，需要在我们系统改造后，将这些老数据整合成SPU，我们首先请采销部门进行数据初次整合，毕竟采销人员对于商品分类更专业，然后请销售部门根据用户购买习惯进行二次整理，最后请财务部对这些数据进行最后确认，避免对财务报表影响导致不必要的撕逼^^

## 	（二）商品库存改造 

​	1、库存数据结构

​	库存由一个字段增加为三个，物理库存、销售库存、冻结库存，商品与仓库是多对多的关系，库存作为SKU和仓库关系属性。

​	![img](http://upload-images.jianshu.io/upload_images/6335042-61e97858cf7214d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240) 

​	**销售库存**，即前台界面显示的库存。

​	**物理库存**，影响物理库存库存的行为，最主要的就是入库、出库。

​	入库就是增加了多少商品数量，常见的有采购入库、退货入库、换货入库、调拨入库、生产入库、盘盈入库、其他入库等；出库就是减少了多少商品数量，常见的有销售出库、采购退货出库、调拨出库、盘亏出库、其他出库等 。

​	**锁定库存**，由实际业务决定的，无需人工维护。

​	库存减扣节点

​	假设用户下单购买100件商品

​	用户下单（确认订单）：销售库存-100；物理库存不变；冻结库存不变

​	用户付款：销售库存-100；物理库存不变；冻结库存+100

​	商品出库：销售库存-100；物理库存-100；冻结库存释放

​	2、业务功能

​	1）原有的一个库存扩展到三个，其中销售库存和锁定库存均需人工维护，客服根据实际库存和销售需求维护销售库存，业务稳定后，可以由系统根据超售比例自动维护，如销售库存=1.2*物理库存，仓库根据实际出入库数量维护物理库存。

​	![img](http://upload-images.jianshu.io/upload_images/6335042-5bc65a245b22ab14.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240) 

​	2）组合活动商品

​	组合商品不算做新的sku，对应两个商品分别的sku，新建一个活动商品C 。

​	组合商品价格=a活动价格+b活动价格，可以这么理解。

​	商品库逻辑功能这样解决，设置新的活动商品C，赋予一个活动商品的销售库存，这个库存可以根据实际业务需要来定（比如活动需要销售临近批次的产品，就可以将这部分的库存数量控制在该批次商品库存），实际扣减对应的a,b的物理库存。



> 1，会有个商品分类表（虚拟分类如服装类【可包含子集如上衣，下衣等】）,
> 2，商品类别表（商品类别表是一系列属性的集合，如服装类别下：颜色，尺寸等。）。
>
> 创建：
> 创建一个商品分类时（如在【服装分类】上创建 【裤子】 子类），会关联（多对多）商品类别表并选择相关属性（【上衣类】【腰围属性】，【裤长属性】等）。
>
> 这样就有个可复用的模板。
>
> 创建商品时候，选择商品分类（如服装类-裤子类），则商品相关商品即有了对应的属性，根据属性之间的组合形成了SKU。
>
> 当初设计的时候比较解耦，让模块和模块之间比较独立，便于后期维护和管理。