# 消息队列

使用消息队列，可以实现服务解耦、异步处理、流量消峰/缓冲等功能，

在使用消息队列时，还有注意处理生产消息失败、以及消息重复接收时的场景。有些消息队列会提供生产重试功能，在达到重试次数还未生产成功时，会对外通知生产失败。这时对于不能容忍生产失败的业务场景来说，一定要做好后续的数据处理工作，如持久化数据要同时增加日志、报警灯，对于消息重复问题，特别是一些分布式消息队列，出于性能和开销的考虑，在一些场景下会发生消息重复接收，需要在业务层面进行防重处理。（摘自亿级流量网站架构核心技术）



# 延时队列

参考资料

https://tech.youzan.com/queuing_delay/

