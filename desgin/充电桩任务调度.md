# 充电桩的任务调度设计
充电桩的任务调度设计，其他与设备交互的都可以按类似的设计

## 任务属性
每个任务必须包含一下几个属性：

- resource：任务类型。可以理解成具体的业务名称。
- id：任务的唯一标识。用来检索和删除指定的Job信息。
- delay：任务需要延迟的时间。单位：秒。（服务端会将其转换为绝对时间）
- ttr（time-to-run)：任务执行超时时间。单位：秒。
- Body：任务的内容，供消费者做具体的业务处理，以json格式存储。

## 任务状态
一个任务只会处于某个状态下：

- delay 不可执行状态，等待任务到期
- ready 可执行状态，等待任务执行方取走
- reserved 已被任务方取走，但是未得到任务方的响应
- completed 任务已执行完毕，可以删除

任务状态变迁图

