根据公司的数据库设计规范，数据库主键要求是bigint，但是用概念模型做Serial自增类型转换为物理模型都是int，所以需要将主键从自增改为long，然后在物理模型里在通过脚本增加自增

```
'*****************************************************************************
dim model 'current model
set model = ActiveModel

If (model Is Nothing) Then
  MsgBox "There is no current Model"
ElseIf Not model.IsKindOf(PdPDM.cls_Model) Then
  MsgBox "The current model is not an Physical Data model."
Else
  ProcessTables model
End If

'*****************************************************************************
'函数：ProcessTables
'功能：递归遍历所有的表
'*****************************************************************************
sub ProcessTables(folder)
  '处理模型中的表
  dim table
  for each table in folder.tables
     if not table.IsShortCut then
        ProcessTable table
     end if
  next
 
  '对子目录进行递归
  dim subFolder
  for each subFolder in folder.Packages
     ProcessTables subFolder
  next
end sub

'*****************************************************************************
'函数：ProcessTable
'功能：遍历指定table的所有字段，如果该字段是主键但不是外键，则设置为Identity
'*****************************************************************************
sub ProcessTable(table)
  dim col
  for each col in table.Columns
     '对于是主键且不是外键的字段设置为Identity（自增长类型）
     if col.Primary and not col.ForeignKey and instr(lcase(col.datatype),"bigint") > 0 then
        col.Identity = true
     end if
  next
end sub
```

